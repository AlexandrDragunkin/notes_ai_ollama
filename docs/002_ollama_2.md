# üõ†Ô∏è  Roo‚ÄØCode‚ÄØ‚Äì‚ÄØ–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ¬´Ask¬ª –∏ ¬´Code¬ª —á–µ—Ä–µ–∑ Ollama
–ù–∏–∂–µ ‚Äì‚ÄØ—á—ë—Ç–∫–∞—è —Å—Ö–µ–º–∞, –∫–∞–∫ –±—ã—Å—Ç—Ä–æ ¬´–ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—å¬ª Roo‚ÄØCode –ø–æ–¥ –≤–∞—à –Ω–æ—É—Ç–±—É–∫, —Å–Ω–∏–∑–∏–≤ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ CPU –∏ –ø—Ä–∏ —ç—Ç–æ–º –ø–æ–ª—É—á–∏–≤ –ø—Ä–∏–ª–∏—á–Ω—É—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.

> **–¢–µ–∫—É—â–∏–π —Å—Ç–µ–∫**  
> * –û–°: (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ Windows‚ÄØ10/11 –∏–ª–∏ Linux, –Ω–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è)  
> * –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä: AMD‚ÄØRyzen‚ÄØ7‚ÄØ8845HS (3.80‚ÄØGHz)  
> * –í–∏–¥–µ–æ–∫–∞—Ä—Ç–∞: Radeon‚ÄØ780M ‚Äì¬†–Ω–µ¬†–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è inference (Ollama –ø–æ–∫–∞ –Ω–µ —É–º–µ–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ROCm)  
> * –°–µ—Ä–≤–∏—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏: Qdrant (Docker) + nomic‚Äëembed‚Äëtext:latest  
> * –ù—É–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å CPU‚Äë–Ω–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤.

---

# 1Ô∏è‚É£  –í—ã–±–æ—Ä –º–æ–¥–µ–ª–µ–π Ollama

| –†–æ–ª—å | –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä (–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤) | –ü–æ—á–µ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç | CPU‚Äë—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–∏ |
|------|--------------------|---------------------|-----------------|----------------|------------------------|
| **Ask** (–æ–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –æ–±—ä—è—Å–Ω–µ–Ω–∏—è) | `llama3.1:8b` (–∏–ª–∏ `llama3.1:8b` q4_0) | 8‚ÄØ–ë | –í—ã—Å–æ–∫–∞—è ‚Äú–∑–Ω–∞–Ω–∏–µ–≤–∞—è‚Äù —Ç–æ—á–Ω–æ—Å—Ç—å, —Ö–æ—Ä–æ—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –±—ã—Å—Ç—Ä–æ —Ä–∞–±–æ—Ç–∞–µ—Ç | ~3‚ÄØ–ì–ë RAM + 2‚Äë4 —è–¥—Ä–∞ | q4_0 (2‚Äë4‚ÄØGB) |
| **Code** (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è/—Ä–µ–≤—å—é –∫–æ–¥–∞) | `codellama/CodeLlama-7b` (–∏–ª–∏ `codellama/CodeLlama-7b` q4_0) | 7‚ÄØ–ë | –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ –∫–æ–¥, –ø–æ–Ω–∏–º–∞–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —è–∑—ã–∫–æ–≤ | ~3‚ÄØ–ì–ë RAM + 2‚Äë4 —è–¥—Ä–∞ | q4_0 (2‚Äë4‚ÄØGB) |
| **Docs** (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, README) | `gpt4o-mini` **(–Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ)** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `llama3.1:8b` | ‚Äî | –ú–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å —Ç–æ–π –∂–µ –º–æ–¥–µ–ª—å—é, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç | ‚Äî | ‚Äî |
| **QA** (–∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã, FAQ) | `phi-3.5-mini` (–∏–ª–∏ `phi-3.5-mini` q4_0) | 4‚ÄØ–ë | –ë—ã—Å—Ç—Ä—ã–π, –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π, —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è ¬´–±—ã—Å—Ç—Ä—ã—Ö¬ª –≤–æ–ø—Ä–æ—Å–æ–≤ | ~2‚ÄØ–ì–ë RAM + 1‚Äë2 —è–¥—Ä–∞ | q4_0 (1‚Äë2‚ÄØGB) |

> **–ö–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è** (`q4_0`, `q5_0`, `q8_0`) —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM –∏ CPU, –Ω–æ –º–æ–∂–µ—Ç —Å–ª–µ–≥–∫–∞ —É—Ö—É–¥—à–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å. –ù–∞ Ryzen‚Äë7 8845HS ¬´q4_0¬ª –æ–±—ã—á–Ω–æ –¥–∞—ë—Ç –ø–æ—á—Ç–∏ 2‚Äë3√ó –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏, –Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é.

---

# 2Ô∏è‚É£  –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Roo‚ÄØCode (VS‚ÄØCode)

## 2.1  –§–∞–π–ª `settings.json`

```json
{
  "roo-code.provider": "ollama",
  "roo-code.ollama.baseUrl": "http://localhost:11434",
  "roo-code.ollama.timeout": 120000,  // 2 –º–∏–Ω, –º–æ–∂–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å

  /* ==== Ask ==== */
  "roo-code.roles.ask.model": "llama3.1:8b",
  "roo-code.roles.ask.maxTokens": 1024,
  "roo-code.roles.ask.temperature": 0.2,
  "roo-code.roles.ask.top_p": 0.9,
  "roo-code.roles.ask.stream": false,
  "roo-code.roles.ask.stop": ["\n\n"],

  /* ==== Code ==== */
  "roo-code.roles.code.model": "codellama/CodeLlama-7b",
  "roo-code.roles.code.maxTokens": 2048,
  "roo-code.roles.code.temperature": 0.1,
  "roo-code.roles.code.top_p": 0.95,
  "roo-code.roles.code.stream": false,
  "roo-code.roles.code.stop": ["\n\n"],

  /* ==== QA (–∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã) ==== */
  "roo-code.roles.qa.model": "phi-3.5-mini",
  "roo-code.roles.qa.maxTokens": 512,
  "roo-code.roles.qa.temperature": 0.1,

  /* ==== –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ====
   * –£–º–µ–Ω—å—à–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç (–Ω–µ –±–æ–ª–µ–µ 2048 —Ç–æ–∫–µ–Ω–æ–≤), —á—Ç–æ–±—ã –Ω–µ –≥—Ä—É–∑–∏—Ç—å —è–¥—Ä–∞
   */
  "roo-code.context.window": 2048,
  "roo-code.model.contextSize": 2048,

  /* ==== –õ–∏–º–∏—Ç –ø–æ—Ç–æ–∫–æ–≤ Ollama ====
   * –ï—Å–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ª–∏–º–∏—Ç
   */
  "roo-code.ollama.maxConcurrentRequests": 2,
  "roo-code.ollama.numThreads": 4          // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤
}
```

> **–ü–æ—á–µ–º—É —Ç–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è?**  
> * `maxTokens` ‚Äì –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ—Ç–≤–µ—Ç–∞, —á—Ç–æ–±—ã –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å ¬´–º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–µ¬ª –æ—Ç–≤–µ—Ç—ã.  
> * `temperature` ‚Äì –Ω–∏–∑–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–∞—é—Ç –±–æ–ª–µ–µ ¬´—Ç–æ—á–Ω—ã–µ¬ª –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –æ—Ç–≤–µ—Ç—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω—ã –¥–ª—è –∫–æ–¥–∞.  
> * `stop` ‚Äì —á–∞—Å—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ä–∞–Ω—å—à–µ, –Ω–µ ¬´–ø–æ—Ç–µ—Ä—è–≤¬ª –ª–∏—à–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏.  
> * `numThreads` ‚Äì —Ñ–∏–∫—Å–∏—Ä—É–µ–º 4 –ø–æ—Ç–æ–∫–∞ (–∏–ª–∏ –º–µ–Ω—å—à–µ, –µ—Å–ª–∏ CPU –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–µ—Ä–µ–≥—Ä–µ–≤–∞—Ç—å—Å—è).  

## 2.2  –û–ø—Ü–∏–∏ –¥–ª—è Ollama (–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ)

```bash
# –ó–∞–ø—É—Å–∫ Ollama —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ—Ç–æ–∫–æ–≤ –∏ –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–µ–π
ollama serve \
  --num_threads 4 \
  --model_path /path/to/llama3.1:8b-q4_0.gguf
```

> *`--num_threads`* ‚Äì –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö Ollama, –ø–æ—ç—Ç–æ–º—É CPU –Ω–µ ¬´–ø–æ–∂–∏—Ä–∞–µ—Ç¬ª 100‚ÄØ% –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.  
> *`--model_path`* ‚Äì —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ –∫–≤–∞–Ω—Ç–∏–∑–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (–µ—Å–ª–∏ –≤—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏ –≤—Ä—É—á–Ω—É—é).

> **–í–∞–∂–Ω–æ** ‚Äì –µ—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ Ollama –∏–∑ Docker, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å `-e OLLAMA_MAX_THREADS=4` –≤ `docker run`:

```bash
docker run -d --name ollama -p 11434:11434 \
  -e OLLAMA_MAX_THREADS=4 \
  -v ~/.ollama:/root/.ollama \
  ollama/ollama:latest
```

---

# 3Ô∏è‚É£  –ö–∞–∫ —Å–Ω–∏–∑–∏—Ç—å CPU‚Äë–Ω–∞–≥—Ä—É–∑–∫—É

| –®–∞–≥ | –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å | –ö–∞–∫ —ç—Ç–æ –≤–ª–∏—è–µ—Ç |
|-----|-------------|----------------|
| 1 | **–ö–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è** (`q4_0`/`q5_0`) | –û–∫–æ–ª–æ 2‚Äë3√ó –º–µ–Ω—å—à–µ RAM –∏ –ø–æ—á—Ç–∏ 2√ó –º–µ–Ω—å—à–µ FLOPs |
| 2 | –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å `num_threads` –¥–æ 4 (–∏–ª–∏ 3, –µ—Å–ª–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 90‚ÄØ¬∞C) | –°–Ω–∏–∂–µ–Ω–∏–µ —á–∏—Å–ª–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π |
| 3 | –£–º–µ–Ω—å—à–∏—Ç—å `maxTokens` –¥–ª—è Ask/Code | –ë—ã—Å—Ç—Ä–µ–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è |
| 4 | –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å `stream` –≤ `false` | –£–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∏ –∫—ç—à‚Äë–æ—à–∏–±–æ–∫ |
| 5 | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `maxConcurrentRequests=1‚Äì2` | –ò–∑–±–µ–≥–∞–µ–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–æ–ª—å—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |
| 6 | –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ `context.window` –¥–æ 2048 —Ç–æ–∫–µ–Ω–æ–≤ | –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ |
| 7 | –ï—Å–ª–∏ GPU –¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å ROCm) ‚Äì –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--device=GPU` (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è) | –ü–µ—Ä–µ–Ω–æ—Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ GPU, CPU —Å–≤–æ–±–æ–¥–µ–Ω |
| 8 | –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –±–æ–ª–µ–µ –ª–µ–≥–∫—É—é –º–æ–¥–µ–ª—å –¥–ª—è ¬´QA¬ª (`phi-3.5-mini`) | –ë—ã—Å—Ç—Ä—ã–π, –º–∞–ª–æ–∑–∞–≥—Ä—É–∂–∞—é—â–∏–π |

---

# 4Ô∏è‚É£  –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞–≥—Ä—É–∑–∫–∏

```bash
#!/usr/bin/env bash

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ä–µ–¥–Ω–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ CPU –∏ RAM Ollama
while true; do
  echo "=== $(date '+%H:%M:%S') ==="
  # CPU
  ps -o %cpu,rss,cmd -p $(pgrep -f ollama) | tail -n +2
  # –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥–µ–ª–∏
  curl http://localhost:11434/api/tags | jq
  sleep 5
done
```

> –ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ CPU –∑–∞–≥—Ä—É–∂–µ–Ω –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

# 5Ô∏è‚É£  –ò—Ç–æ–≥–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

| –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å | –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å |
|-----------------|---------------|
| **CPU <‚ÄØ70‚ÄØ%** –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ | `top`/`htop` / `Task Manager` |
| **RAM <‚ÄØ4‚ÄØGB** (Ollama + VS‚ÄØCode) | `htop` |
| **–û—Ç–≤–µ—Ç—ã ¬´–∫–æ—Ä–æ—Ç–∫–∏–µ¬ª –∏ —Ç–æ—á–Ω—ã–µ** | –í—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Ask/Code |
| **Qdrant –±—ã—Å—Ç—Ä–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç** | –¢–µ—Å—Ç —Å –Ω–µ–±–æ–ª—å—à–∏–º –∑–∞–ø—Ä–æ—Å–æ–º (`curl http://localhost:6333/health`) |

> –ï—Å–ª–∏ CPU –≤—Å—ë –µ—â—ë —Å–∏–ª—å–Ω–æ –Ω–∞–≥—Ä–µ–≤–∞–µ—Ç—Å—è, —É–º–µ–Ω—å—à–∏—Ç–µ `maxThreads` –¥–æ 2 –∏/–∏–ª–∏ `maxConcurrentRequests` –¥–æ 1 ‚Äì —ç—Ç–æ –¥–∞—Å—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º—ã–π —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏.

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **AMD GPU** ‚Äì –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç Ollama (–≤ –≤–µ—Ä—Å–∏–∏ 0.3+ –Ω–∞ Windows) –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ROCm/AMD GPU. –ï—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å `--device=GPU` –≤ –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞.  
2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏** ‚Äì –µ—Å–ª–∏ RAM –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å 8‚ÄØ–ì–ë, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥–µ–ª–∏ `q4_0`/`q5_0`.  
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏** ‚Äì –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –≤ VS‚ÄØCode, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ—Ç–≤–µ—Ç—ã –Ω–µ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ.  

---

–ù–∞–¥–µ—é—Å—å, —ç—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º **—Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ CPU** –∏ **–ø–æ–ª—É—á–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** –æ—Ç Roo‚ÄØCode! –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å ‚Äì —Ä–∞–∑–±–µ—Ä—ë–º—Å—è. üöÄ

# –ö–∞–∫ —É–∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ç–æ–∫–æ–≤ –∏ –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–∏ —Å–µ–π—á–∞—Å –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ Ollama  

> **–ö—Ä–∞—Ç–∫–æ**  
> * –ü–æ—Ç–æ–∫–∏ ‚Äì –±–µ—Ä—ë–º –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `OLLAMA_MAX_THREADS` (–∏–ª–∏ –∏–∑ Docker‚Äëenv) –∏ –∏–∑ –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞.  
> * –ö–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è ‚Äì –≤–∏–¥–Ω–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–æ–¥–µ–ª–∏ (`q4_0`, `q5_0` –∏ —Ç.–¥.) –ª–∏–±–æ –≤ –≤—ã–≤–æ–¥–µ `ollama list`/`ollama show <model>`.  

–ù–∏–∂–µ ‚Äì –ø–æ—à–∞–≥–æ–≤—ã–π —á–µ–∫‚Äë–ª–∏—Å—Ç, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ Ollama (–Ω–∞–ø—Ä—è–º—É—é –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, —á–µ—Ä–µ–∑ Docker‚Äë–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤ Windows‚ÄëSubsystem‚ÄëLinux –∏ —Ç.–ø.).

---

## 1Ô∏è‚É£  –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤

| –°–ø–æ—Å–æ–± | –ö–æ–º–∞–Ω–¥–∞ / –î–µ–π—Å—Ç–≤–∏–µ | –ß—Ç–æ —É–≤–∏–¥–∏–º |
|--------|--------------------|------------|
| **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è** | `echo $OLLAMA_MAX_THREADS` (Linux/macOS)  <br> `echo %OLLAMA_MAX_THREADS%` (Windows CMD)  <br> `echo $Env:OLLAMA_MAX_THREADS` (PowerShell) | –í—ã–≤–æ–¥–∏—Ç —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –∑–∞–¥–∞–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ. –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ ‚Äì —Å–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –º–∞–∫—Å–∏–º—É–º (`$(nproc)` / `cpu core count`). |
| **Docker‚Äë–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** | `docker exec -it <container_name> env | grep OLLAMA_MAX_THREADS` | –¢–æ –∂–µ, –Ω–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. |
| **–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** | –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `ollama serve` (–∏–ª–∏ `docker run ‚Ä¶`) –≤ –∫–æ–Ω—Å–æ–ª–∏ –æ–±—ã—á–Ω–æ –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞: <br> `INFO[0000] Ollama starting with 4 threads` | –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± —É–≤–∏–¥–µ—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É—é. |
| **API‚Äë—ç–Ω–¥–ø–æ–π–Ω—Ç** | `curl http://localhost:11434/api/tags` ‚Äì –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π, –Ω–æ –Ω–µ –ø–æ—Ç–æ–∫–æ–≤. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `list` —ç—Ç–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫–∏. –ü–æ—ç—Ç–æ–º—É –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è / –ª–æ–≥. |

> **Tip**: –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ç–æ–∫ –Ω–∞ –ª–µ—Ç—É, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å –Ω–æ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:  
> ```bash
> OLLAMA_MAX_THREADS=2 ollama serve
> ```

---

## 2Ô∏è‚É£  –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π

| –°–ø–æ—Å–æ–± | –ö–æ–º–∞–Ω–¥–∞ / –î–µ–π—Å—Ç–≤–∏–µ | –ß—Ç–æ —É–≤–∏–¥–∏–º |
|--------|--------------------|------------|
| **–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π** | `ollama list` | –í –∫–æ–ª–æ–Ω–∫–µ *Model* –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏. –ö–≤–∞–Ω—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –æ–±—ã—á–Ω–æ –æ–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `:q4_0`, `:q5_0`, `:q8_0` –∏ —Ç.–¥. –ü—Ä–∏–º–µ—Ä: `llama3.1:8b-q4_0`. |
| **–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –æ–¥–Ω–æ–π –º–æ–¥–µ–ª–∏** | `ollama show <model_name>` | –í –≤—ã–≤–æ–¥–µ —É–∫–∞–∑–∞–Ω `Parameters`, `Size`, `Quantization`. –ù–∞–ø—Ä–∏–º–µ—Ä:  
> ```
> Model: llama3.1:8b-q4_0
> Quantization: q4_0
> Parameters: 8B
> Size: 3.2 GB
> ```
| **API‚Äë—ç–Ω–¥–ø–æ–π–Ω—Ç** | `curl http://localhost:11434/api/tags | jq` | JSON‚Äë–æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ `models`, –≥–¥–µ —É –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ –µ—Å—Ç—å –ø–æ–ª–µ `name` –∏ `quantization`. |
| **Docker‚Äë–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** | `docker exec -it <container_name> ollama list` | –¢–æ –∂–µ, –Ω–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. |

> **–ö–∞–∫ –ø–æ–Ω—è—Ç—å**  
> * –ï—Å–ª–∏ –≤ –∏–º–µ–Ω–∏ –º–æ–¥–µ–ª–∏ –Ω–µ—Ç —Å—É—Ñ—Ñ–∏–∫—Å–∞ (`-q*`), —Ç–æ –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ **–ø–æ–ª–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ** (float32/float16).  
> * –ï—Å–ª–∏ –µ—Å—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å `-q4_0`/`-q5_0`/‚Ä¶ ‚Äì —ç—Ç–æ **–∫–≤–∞–Ω—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è** –≤–µ—Ä—Å–∏—è, —ç–∫–æ–Ω–æ–º—è—â–∞—è RAM –∏ CPU.  

---

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä

```bash
# 1. –£–∑–Ω–∞—ë–º –ø–æ—Ç–æ–∫
echo $OLLAMA_MAX_THREADS   # ‚Üí 4

# 2. –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
ollama list
# –í—ã–≤–æ–¥:
# Model                   Size  Parameters
# llama3.1:8b-q4_0         3.2GB  8B
# codellama/CodeLlama-7b-q4_0  3.2GB  7B

# 3. –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª—å –æ–¥–Ω–æ–π –º–æ–¥–µ–ª–∏
ollama show llama3.1:8b-q4_0
# –í—ã–≤–æ–¥:
# Model: llama3.1:8b-q4_0
# Quantization: q4_0
# Parameters: 8B
# Size: 3.2 GB

# 4. –ï—Å–ª–∏ –≤ Docker
docker exec -it ollama env | grep OLLAMA_MAX_THREADS
# ‚Üí OLLAMA_MAX_THREADS=4
```

---

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–æ—Ç–æ–∫/–∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è –Ω–µ —Ç–∞–∫, –∫–∞–∫ –Ω—É–∂–Ω–æ?

| –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å | –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å |
|--------------|-------------|
| **–£–º–µ–Ω—å—à–∏—Ç—å –ø–æ—Ç–æ–∫** | `OLLAMA_MAX_THREADS=2 ollama serve` (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ Docker‚Äëenv). |
| **–ó–∞–≥—Ä—É–∑–∏—Ç—å –±–æ–ª–µ–µ ¬´–ª—ë–≥–∫—É—é¬ª –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—é** | `ollama pull llama3.1:8b-q5_0` ‚Äì —Å–∫–∞—á–∞–µ—Ç –∫–≤–∞–Ω—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é 5‚Äë–±–∏—Ç, —ç–∫–æ–Ω–æ–º–∏—Ç RAM. |
| **–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏** | `ollama pull llama3.1:8b` (–±–µ–∑ —Å—É—Ñ—Ñ–∏–∫—Å–∞). |

---

# –ò—Ç–æ–≥

1. **–ü–æ—Ç–æ–∫–∏** ‚Äì —Å–º–æ—Ç—Ä–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `OLLAMA_MAX_THREADS` (–∏–ª–∏ –ª–æ–≥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ).  
2. **–ö–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è** ‚Äì —Å–º–æ—Ç—Ä–∏—Ç–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã –º–æ–¥–µ–ª–µ–π –≤ `ollama list`/`ollama show` –∏–ª–∏ —á–µ—Ä–µ–∑ API.  

–° —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –±—ã—Å—Ç—Ä–æ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –Ω–∞ –≤–∞—à–µ–º Ryzen‚ÄØ7‚ÄØ8845HS. –ï—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≤–æ–¥–∏—Ç—å –≤ —Å—Ç–∞—Ç—É—Å‚Äë–±–∞—Ä VS‚ÄØCode), –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–µ–±–æ–ª—å—à—É—é Bash‚Äë/Python‚Äë—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å `ollama list` –∏ –≤—ã–≤–æ–¥–∏—Ç—å –∂–µ–ª–∞–µ–º—ã–µ –ø–æ–ª—è. üöÄ